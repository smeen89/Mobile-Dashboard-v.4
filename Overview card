type: conditional
conditions:
  - entity: input_text.mobilmeny_sebbe
    state: överblick
card:
  type: vertical-stack
  cards:
    - type: custom:stack-in-card
      keep:
        margin: true
        background: true
        border_radius: true
        box_shadow: true
      cards:
        - type: vertical-stack
          cards:
            - type: custom:button-card
              entity: sensor.halsning
              show_icon: false
              show_name: false
              show_state: false
              show_label: true
              tap_action:
                action: none
              hold_action:
                action: none
              label: |
                [[[
                  return states['sensor.halsning'].state + ' Sebbe ';
                ]]]
              styles:
                card:
                  - background-color: transparent
                  - height: 20px
                label:
                  - font-size: 18px
                  - font-weight: 600
                  - color: rgb(70, 67, 66, 1)
                  - justify-self: left
              style: |
                ha-card {
                  box-shadow: none;
                } 
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: lock.huvudentre
                  show_state: false
                  show_name: false
                  show_icon: true
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    service_data:
                      value: säkerhet
                      entity_id: input_text.mobilmeny_sebbe
                  hold_action:
                    action: toggle
                  size: 80%
                  styles:
                    card:
                      - width: 30px
                      - height: 30px
                      - background-color: transparent
                    icon:
                      - color: |
                          [[[
                              if ( states["binary_sensor.kok_dorrsensor_altan_contact"].state == 'on') return 'rgb(90, 153 ,92, 1)';
                              if ( states["binary_sensor.vardagsrum_dorrsensor_altan_contact"].state == 'on') return 'rgb(90, 153 ,92, 1)';
                              if ( states["binary_sensor.vardagsrum_dorrsensor_dubbeldorr_contact"].state == 'on') return 'rgb(90, 153 ,92, 1)';
                              if ( states["binary_sensor.tvattstuga_dorrsensor_contact"].state == 'on') return 'rgb(90, 153 ,92, 1)';
                              if ( states["binary_sensor.dorrsensor_entre_contact"].state == 'on') return 'rgb(90, 153 ,92, 1)';
                              if ( states["sensor.huvudentre_las"].state == 'olåst') return 'rgb(90, 153 ,92, 1)';
                              else return 'rgb(187, 29, 29, 1)';
                          ]]]
                  icon: |
                    [[[
                        if ( states["binary_sensor.kok_dorrsensor_altan_contact"].state == 'on') return 'mdi:door-open';
                        if ( states["binary_sensor.vardagsrum_dorrsensor_altan_contact"].state == 'on') return 'mdi:door-open';
                        if ( states["binary_sensor.vardagsrum_dorrsensor_dubbeldorr_contact"].state == 'on') return 'mdi:door-open';
                        if ( states["binary_sensor.tvattstuga_dorrsensor_contact"].state == 'on') return 'mdi:door-open';
                        if ( states["binary_sensor.dorrsensor_entre_contact"].state == 'on') return 'mdi:door-open';
                        if ( states["sensor.huvudentre_las"].state == 'olåst') return 'mdi:lock-open';
                        else return 'mdi:lock';
                    ]]]
                  style: |
                    ha-card {
                      box-shadow: none;
                    }    
                - type: custom:button-card
                  entity: sensor.dorrstatus_alla_dorrar
                  show_state: false
                  show_name: false
                  show_icon: false
                  show_label: true
                  tap_action:
                    action: call-service
                    service: input_text.set_value
                    service_data:
                      value: säkerhet
                      entity_id: input_text.mobilmeny_sebbe
                  hold_action:
                    action: none
                  styles:
                    card:
                      - height: 30px
                      - background-color: transparent
                    label:
                      - justify-self: start
                      - margin-left: 0px
                      - font-size: 14px
                      - color: rgb(70, 67, 66, 1)
                  label: |
                    [[[
                        if (( states['binary_sensor.dorrsensor_entre_contact'].state == 'on') && ( states['counter.antal_oppna_dorrar'].state > '1')) return 'Huvudentren och ' + states['counter.antal_oppna_dorrar'].state + ' andra dörrar är öppna.';
                        else if (( states['binary_sensor.dorrsensor_entre_contact'].state == 'on') && ( states['counter.antal_oppna_dorrar'].state > '0')) return 'Huvudentren och ' + states['counter.antal_oppna_dorrar'].state + ' annan dörr är öppna.';
                        else if (( states['binary_sensor.dorrsensor_entre_contact'].state == 'on') && ( states['counter.antal_oppna_dorrar'].state == '0')) return 'Huvudentren är öppen.';
                        else if (( states['sensor.huvudentre_las'].state == 'låst') && ( states['counter.antal_oppna_dorrar'].state == '0')) return 'Huvudentren är låst och alla dörrar är stängda.';
                        else if (( states['sensor.huvudentre_las'].state == 'låst') && ( states['counter.antal_oppna_dorrar'].state > '1')) return 'Huvudentren är låst och ' + states['counter.antal_oppna_dorrar'].state + ' dörrar öppna.';
                        else if (( states['sensor.huvudentre_las'].state == 'låst') && ( states['counter.antal_oppna_dorrar'].state > '0')) return 'Huvudentren är låst och ' + states['counter.antal_oppna_dorrar'].state + ' dörr är öppen.';
                        else if (( states['sensor.huvudentre_las'].state == 'olåst') && ( states['counter.antal_oppna_dorrar'].state == '0')) return 'Huvudentren är olåst och alla dörrar är stängda.';
                        else if (( states['sensor.huvudentre_las'].state == 'olåst') && ( states['counter.antal_oppna_dorrar'].state > '1')) return 'Huvudentren är olåst och ' + states['counter.antal_oppna_dorrar'].state + ' dörrar öppna.';
                        else if (( states['sensor.huvudentre_las'].state == 'olåst') && ( states['counter.antal_oppna_dorrar'].state > '0')) return 'Huvudentren är olåst och ' + states['counter.antal_oppna_dorrar'].state + ' dörr är öppen.';
                    ]]]
                  style: |
                    ha-card {
                      box-shadow: none;
                    }    
            - type: conditional
              conditions:
                - entity: light.alla_lampor
                  state: 'on'
              card:
                type: horizontal-stack
                cards:
                  - type: custom:button-card
                    entity: sensor.antal_tanda_lampor
                    show_state: false
                    show_name: false
                    show_icon: true
                    tap_action:
                      action: call-service
                      service: input_text.set_value
                      service_data:
                        value: belysning
                        entity_id: input_text.mobilmeny_sebbe
                    hold_action:
                      action: call-service
                      service: script.toggle_alla_lampor
                      data: {}
                      target: {}
                    size: 80%
                    styles:
                      card:
                        - width: 30px
                        - height: 30px
                        - background-color: transparent
                      icon:
                        - color: |
                            [[[
                                if ( states["sensor.antal_tanda_lampor"].state > '0') return 'rgb(255, 202, 55, 1)';
                                else return 'rgb(200, 200, 200, 1)';
                            ]]]
                    icon: |
                      [[[
                          if ( states["sensor.antal_tanda_lampor"].state > '1') return 'hue:bulb-group-sultan-lightstrip';
                          if ( states["sensor.antal_tanda_lampor"].state > '0') return 'hue:bulb-group-sultan-lightstrip';
                          else return 'hue:bulb-group-sultan-lightstrip';
                      ]]]
                    style: |
                      ha-card {
                        box-shadow: none;
                      }    
                  - type: custom:button-card
                    entity: sensor.antal_tanda_lampor
                    show_state: false
                    show_name: false
                    show_icon: false
                    show_label: true
                    tap_action:
                      action: call-service
                      service: input_text.set_value
                      service_data:
                        value: belysning
                        entity_id: input_text.mobilmeny_sebbe
                    hold_action:
                      action: none
                    label: |
                      [[[
                          if ( states["sensor.antal_tanda_lampor"].state > '1') return 'Det är ' + states['sensor.antal_tanda_lampor'].state + ' lampor tända.';
                          if ( states["sensor.antal_tanda_lampor"].state > '0') return 'Det är ' + states['sensor.antal_tanda_lampor'].state + ' lampa tänd.';
                          else return 'Det är inga lampor tända.';
                      ]]]
                    styles:
                      card:
                        - height: 30px
                        - background-color: transparent
                      label:
                        - justify-self: start
                        - margin-left: 0px
                        - font-size: 14px
                        - color: rgb(70, 67, 66, 1)
                    style: |
                      ha-card {
                        box-shadow: none;
                      }
            - type: conditional
              conditions:
                - entity: sensor.mediastatus
                  state_not: Inget är på.
              card:
                type: horizontal-stack
                cards:
                  - type: custom:button-card
                    entity: sensor.mediastatus
                    show_state: false
                    show_name: false
                    show_icon: true
                    tap_action:
                      action: more-info
                    hold_action:
                      action: none
                    size: 100%
                    styles:
                      card:
                        - width: 30px
                        - height: 30px
                        - background-color: transparent
                      icon:
                        - color: |
                            [[[
                                if ( states["sensor.mediastatus"].state == 'Inget är på.') return 'rgb(200, 200, 200, 1)';
                                else return 'rgb(65, 106, 154, 1)';
                            ]]]
                    icon: phu:youtube-tv
                    style: |
                      ha-card {
                        box-shadow: none;
                      }    
                  - type: custom:button-card
                    entity: sensor.mediastatus
                    show_state: true
                    show_name: false
                    show_icon: false
                    show_label: false
                    tap_action:
                      action: more-info
                    hold_action:
                      action: none
                    styles:
                      card:
                        - height: 30px
                        - background-color: transparent
                      state:
                        - justify-self: start
                        - margin-left: 0px
                        - font-size: 14px
                        - color: rgb(70, 67, 66, 1)
                    style: |
                      ha-card {
                        box-shadow: none;
                      } 
            - type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: söndag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_sondag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: måndag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_mandag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: tisdag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_tisdag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: onsdag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_onsdag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: torsdag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_torsdag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: fredag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_fredag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
                - type: conditional
                  conditions:
                    - entity: sensor.veckodag
                      state: lördag
                  card:
                    type: horizontal-stack
                    cards:
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        size: 80%
                        styles:
                          card:
                            - width: 30px
                            - height: 30px
                            - background-color: transparent
                          icon:
                            - color: rgb(70, 67, 66, 1)
                        style: |
                          ha-card {
                            box-shadow: none;
                          }    
                      - type: custom:button-card
                        entity: input_button.veckomeny
                        show_state: false
                        show_name: false
                        show_icon: false
                        show_label: true
                        tap_action:
                          action: more-info
                        hold_action:
                          action: none
                        styles:
                          card:
                            - height: 30px
                            - width: 350px
                            - background-color: transparent
                          label:
                            - justify-self: start
                            - margin-left: 0px
                            - font-size: 14px
                            - color: rgb(70, 67, 66, 1)
                        label: |
                          [[[
                              return states["input_text.meny_lordag"].state;
                          ]]]
                        style: |
                          ha-card {
                            box-shadow: none;
                          } 
            - type: conditional
              conditions:
                - entity: input_boolean.kattlada_sebbe
                  state: 'on'
              card:
                type: horizontal-stack
                cards:
                  - type: custom:button-card
                    entity: input_boolean.kattlada_sebbe
                    show_state: false
                    show_name: false
                    show_icon: true
                    tap_action:
                      action: more-info
                    hold_action:
                      action: none
                    size: 100%
                    styles:
                      card:
                        - width: 30px
                        - height: 30px
                        - background-color: transparent
                      icon:
                        - color: rgb(70, 67, 66, 1)
                    icon: mdi:information-variant
                    style: |
                      ha-card {
                        box-shadow: none;
                      }    
                  - type: custom:button-card
                    entity: input_boolean.kattlada_sebbe
                    show_state: false
                    show_name: false
                    show_icon: false
                    show_label: true
                    tap_action:
                      action: more-info
                    hold_action:
                      action: none
                    styles:
                      card:
                        - height: 30px
                        - width: 200px
                        - background-color: transparent
                      label:
                        - justify-self: start
                        - margin-left: 0px
                        - font-size: 14px
                        - color: rgb(70, 67, 66, 1)
                    label: |
                      [[[
                          return ' Pixel har varit på toa ' + states["counter.kattlada"].state + ' gånger.';
                      ]]]
                    style: |
                      ha-card {
                        box-shadow: none;
                      } 
      card_mod:
        style: |
          ha-card {
            background: rgb(255, 254, 253, 1);
            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15);
              }
    - type: custom:stack-in-card
      keep:
        margin: true
        background: true
        border_radius: true
        box_shadow: true
      cards:
        - type: horizontal-stack
          cards:
            - type: custom:button-card
              tap_action:
                action: more-info
              hold_action:
                action: none
              entity: person.sara
              entity_picture: /local/Bilder/sara2.png
              show_icon: false
              show_entity_picture: true
              show_name: false
              size: 90%
              styles:
                entity_picture:
                  - border-radius: 100%
                card:
                  - height: 60px
                  - width: 60px
                  - border-radius: 100%
                  - background-color: transparent
            - type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      entity: person.sara
                      show_icon: true
                      show_name: false
                      show_state: false
                      icon: mdi:home-clock
                      size: 80%
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      styles:
                        card:
                          - width: 26px
                          - height: 30px
                          - margin-left: 0px
                          - margin-left: '-8px'
                          - background-color: transparent
                        icon:
                          - color: rgb(187, 29, 29, 1)
                      state:
                        - value: home
                          icon: mdi:home
                          styles:
                            icon:
                              - color: rgb(90, 153 ,92, 1)
                        - value: Jobbet
                          icon: mdi:school
                          styles:
                            icon:
                              - color: rgb(95, 144, 189)
                    - type: custom:button-card
                      entity: person.sara
                      show_name: false
                      show_state: false
                      show_icon: false
                      show_label: true
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      label: |
                        [[[
                           if ((( states['person.sara'].state == 'home') && ( states['counter.sara_dagar_sedan_state_change'].state > '0'))) return 'Hemma för länge. Dags att röra på sig.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['counter.sara_dagar_sedan_state_change'].state > '0'))) return 'Borta för länge. Dags att åka hem.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Hemma i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Hemma i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Hemma i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Hemma i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1'))) return 'Hemma i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timme.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1'))) return 'Hemma i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timmar.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Hemma i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sara'].state == 'home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Hemma i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Borta i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Borta i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1'))) return 'Borta i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timme.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1'))) return 'Borta i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timmar.';     
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Borta i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1'))) return 'Borta i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Borta i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sara'].state == 'not_home') && ( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1'))) return 'Borta i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1')) return states['person.sara'].state + ' i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1')) return states['person.sara'].state + ' i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1')) return states['person.sara'].state + ' i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1')) return states['person.sara'].state + ' i '+ states['sensor.sara_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state > '1')) return states['person.sara'].state + ' i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state < '1') && ( states['sensor.sara_minuter_sedan_state_change'].state == '1')) return states['person.sara'].state + ' i ' + states['sensor.sara_minuter_sedan_state_change'].state + ' minut.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state == '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1')) return states['person.sara'].state + ' i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timme.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state > '1') && ( states['sensor.sara_minuter_sedan_state_change'].state < '1')) return states['person.sara'].state + ' i ' + states['sensor.sara_timmar_sedan_state_change'].state + ' timmar.';
                            else if (( states['sensor.sara_timmar_sedan_state_change'].state == '0') && ( states['sensor.sara_minuter_sedan_state_change'].state == '0')) return 'Uppdaterar';
                        ]]]
                      styles:
                        card:
                          - height: 30px
                          - margin-left: '-6px'
                          - background-color: transparent
                        label:
                          - font-size: 14px
                          - font-color: rgb(70, 67, 66, 1)
                          - font-weight: 400
                          - justify-self: left
                - type: horizontal-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          entity: sensor.sara_battery_level
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 20px
                              - height: 30px
                              - margin-top: '-10px'
                              - background-color: transparent
                              - margin-left: |
                                  [[[
                                    if ( states['binary_sensor.sara_is_charging'].state == 'off') return ' -6px'; 
                                    if ( states['binary_sensor.sara_is_charging'].state == 'on') return ' -2px';  
                                  ]]]
                            icon:
                              - color: |
                                  [[[
                                    if (entity.state < 20) return 'rgb(187, 29, 29, 1)';
                                    if (entity.state < 40) return 'rgb(255, 176, 102, 1)';
                                    if (entity.state < 60) return 'rgb(255, 202, 55, 1)';
                                    if (entity.state < 80) return 'yellowgreen';
                                    if (entity.state < 101) return 'rgb(90, 153 ,92, 1)';
                                  ]]]
                        - type: custom:button-card
                          entity: sensor.sara_battery_level
                          show_icon: false
                          show_name: false
                          show_state: true
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          styles:
                            card:
                              - height: 30px
                              - width: 40px
                              - margin-top: '-8px'
                              - margin-left: 0px
                              - background-color: transparent
                            state:
                              - font-size: 14px
                              - font-color: rgb(70, 67, 66, 1)
                              - font-weight: 400
                              - justify-self: left
                        - type: custom:button-card
                          entity: proximity.sara_home
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 0px
                              - height: 20px
                              - margin-top: '-4px'
                              - background-color: transparent
                              - border-radius: 0%
                              - border-left: 1px solid rgb(70, 67, 66, 1)
                            icon:
                              - color: rgb(70, 67, 66, 1)
                        - type: custom:button-card
                          entity: proximity.sara_home
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 20px
                              - height: 30px
                              - margin-top: '-9px'
                              - margin-left: 12px
                              - background-color: transparent
                            icon:
                              - color: rgb(70, 67, 66, 1)
                        - type: custom:button-card
                          entity: proximity.sara_home
                          show_icon: false
                          show_name: false
                          show_state: false
                          show_label: true
                          label: >
                            [[[ return states['proximity.sara_home'].state + '
                            km hemifrån.';

                            ]]]
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          styles:
                            card:
                              - height: 30px
                              - margin-top: '-8px'
                              - margin-left: '-2px'
                              - background-color: transparent
                            label:
                              - font-size: 14px
                              - font-color: rgb(70, 67, 66, 1)
                              - font-weight: 400
                              - justify-self: left
      card_mod:
        style: |
          ha-card {
            background: rgb(255, 254, 253, 1);
            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15);
              }
    - type: custom:stack-in-card
      keep:
        margin: true
        background: true
        border_radius: true
        box_shadow: true
      cards:
        - type: horizontal-stack
          cards:
            - type: custom:button-card
              tap_action:
                action: more-info
              hold_action:
                action: none
              entity: person.sebastian
              entity_picture: /local/Bilder/Bass.png
              show_icon: false
              show_entity_picture: true
              show_name: false
              size: 90%
              styles:
                entity_picture:
                  - border-radius: 100%
                card:
                  - height: 60px
                  - width: 60px
                  - border-radius: 100%
                  - background-color: transparent
            - type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - type: custom:button-card
                      entity: person.sebastian
                      show_icon: true
                      show_name: false
                      show_state: false
                      icon: mdi:home-clock
                      size: 80%
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      styles:
                        card:
                          - width: 26px
                          - height: 30px
                          - margin-left: 0px
                          - margin-left: '-8px'
                          - background-color: transparent
                        icon:
                          - color: rgb(187, 29, 29, 1)
                      state:
                        - value: home
                          icon: mdi:home
                          styles:
                            icon:
                              - color: rgb(90, 153 ,92, 1)
                        - value: Jobbet
                          icon: mdi:chef-hat
                          styles:
                            icon:
                              - color: rgb(95, 144, 189)
                    - type: custom:button-card
                      entity: person.sebastian
                      show_name: false
                      show_state: false
                      show_icon: false
                      show_label: true
                      tap_action:
                        action: none
                      hold_action:
                        action: none
                      label: |
                        [[[
                            if ((( states['person.sebastian'].state == 'home') && ( states['counter.sebbe_dagar_sedan_state_change'].state > '0'))) return 'Hemma för länge. Dags att röra på sig.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['counter.sebbe_dagar_sedan_state_change'].state > '0'))) return 'Borta för länge. Dags att åka hem.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Hemma i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Hemma i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Hemma i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Hemma i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1'))) return 'Hemma i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1'))) return 'Hemma i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Hemma i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sebastian'].state == 'home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Hemma i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Borta i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Borta i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1'))) return 'Borta i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1'))) return 'Borta i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar.';     
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Borta i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1'))) return 'Borta i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Borta i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if ((( states['person.sebastian'].state == 'not_home') && ( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1'))) return 'Borta i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1')) return states['person.sebastian'].state + ' i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1')) return states['person.sebastian'].state + ' i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1')) return states['person.sebastian'].state + ' i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1')) return states['person.sebastian'].state + ' i '+ states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar och ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state > '1')) return states['person.sebastian'].state + ' i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minuter.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state < '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '1')) return states['person.sebastian'].state + ' i ' + states['sensor.sebbe_minuter_sedan_state_change'].state + ' minut.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state == '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1')) return states['person.sebastian'].state + ' i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timme.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state > '1') && ( states['sensor.sebbe_minuter_sedan_state_change'].state < '1')) return states['person.sebastian'].state + ' i ' + states['sensor.sebbe_timmar_sedan_state_change'].state + ' timmar.';
                            else if (( states['sensor.sebbe_timmar_sedan_state_change'].state == '0') && ( states['sensor.sebbe_minuter_sedan_state_change'].state == '0')) return 'Uppdaterar';
                        ]]]
                      styles:
                        card:
                          - height: 30px
                          - margin-left: '-6px'
                          - background-color: transparent
                        label:
                          - font-size: 14px
                          - font-color: rgb(70, 67, 66, 1)
                          - font-weight: 400
                          - justify-self: left
                - type: horizontal-stack
                  cards:
                    - type: horizontal-stack
                      cards:
                        - type: custom:button-card
                          entity: sensor.sebbe_battery_level
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 20px
                              - height: 30px
                              - margin-top: '-10px'
                              - background-color: transparent
                              - margin-left: |
                                  [[[
                                    if ( states['binary_sensor.sebbe_is_charging'].state == 'off') return ' -6px'; 
                                    if ( states['binary_sensor.sebbe_is_charging'].state == 'on') return ' -2px';  
                                  ]]]
                            icon:
                              - color: |
                                  [[[
                                    if (entity.state < 20) return 'rgb(187, 29, 29, 1)';
                                    if (entity.state < 40) return 'rgb(255, 176, 102, 1)';
                                    if (entity.state < 60) return 'rgb(255, 202, 55, 1)';
                                    if (entity.state < 80) return 'yellowgreen';
                                    if (entity.state < 101) return 'rgb(90, 153 ,92, 1)';
                                  ]]]
                        - type: custom:button-card
                          entity: sensor.sebbe_battery_level
                          show_icon: false
                          show_name: false
                          show_state: true
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          styles:
                            card:
                              - height: 30px
                              - width: 40px
                              - margin-top: '-8px'
                              - margin-left: 0px
                              - background-color: transparent
                            state:
                              - font-size: 14px
                              - font-color: rgb(70, 67, 66, 1)
                              - font-weight: 400
                              - justify-self: left
                        - type: custom:button-card
                          entity: proximity.sebbe_home
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 0px
                              - height: 20px
                              - margin-top: '-4px'
                              - background-color: transparent
                              - border-radius: 0%
                              - border-left: 1px solid rgb(70, 67, 66, 1)
                            icon:
                              - color: rgb(70, 67, 66, 1)
                        - type: custom:button-card
                          entity: proximity.sebbe_home
                          show_icon: true
                          show_name: false
                          show_state: false
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          size: 100%
                          styles:
                            card:
                              - width: 20px
                              - height: 30px
                              - margin-top: '-9px'
                              - margin-left: 12px
                              - background-color: transparent
                            icon:
                              - color: rgb(70, 67, 66, 1)
                        - type: custom:button-card
                          entity: proximity.sebbe_home
                          show_icon: false
                          show_name: false
                          show_state: false
                          show_label: true
                          label: >
                            [[[ return states['proximity.sebbe_home'].state + '
                            km hemifrån.';

                            ]]]
                          tap_action:
                            action: none
                          hold_action:
                            action: none
                          styles:
                            card:
                              - height: 30px
                              - margin-top: '-8px'
                              - margin-left: '-2px'
                              - background-color: transparent
                            label:
                              - font-size: 14px
                              - font-color: rgb(70, 67, 66, 1)
                              - font-weight: 400
                              - justify-self: left
      card_mod:
        style: |
          ha-card {
            background: rgb(255, 254, 253, 1);
            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15);
              }
    - type: custom:stack-in-card
      keep:
        margin: true
        background: true
        border_radius: true
        box_shadow: true
      cards:
        - square: false
          columns: 6
          type: grid
          cards:
            - type: custom:button-card
              entity: input_boolean.larm
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              aspect_ratio: 1/1
              tap_action:
                action: none
              hold_action:
                action: toggle
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
              state:
                - value: 'on'
                  icon: mdi:shield
                  styles:
                    icon:
                      - color: rgb(187, 29, 29, 1)
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
                - value: 'off'
                  icon: mdi:shield-off
                  styles:
                    icon:
                      - color: rgb(90, 153 ,92, 1)
            - type: custom:button-card
              entity: input_boolean.adaptiv_ljus_status
              show_icon: true
              show_name: false
              show_state: false
              icon: mdi:lightbulb-auto
              size: 50%
              aspect_ratio: 1/1
              color: rgb(255, 202, 55, 1)
              tap_action:
                action: more-info
              hold_action:
                action: call-service
                service: script.adaptivt_ljus_av_pa
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
                - value: 'off'
                  styles:
                    icon:
                      - color: rgb(255, 202, 55, 1)
            - type: custom:button-card
              entity: input_boolean.laggdags
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              aspect_ratio: 1/1
              tap_action:
                action: none
              hold_action:
                action: call-service
                service: script.laggdags
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
                icon:
                  - color: rgb(65, 106, 154, 1)
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
            - type: custom:button-card
              entity: input_boolean.natt
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              aspect_ratio: 1/1
              tap_action:
                action: none
              hold_action:
                action: call-service
                service: script.godnatt
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
                icon:
                  - color: rgb(65, 106, 154, 1)
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
            - type: custom:button-card
              entity: input_boolean.gast
              show_icon: true
              show_name: false
              show_state: false
              size: 50%
              aspect_ratio: 1/1
              tap_action:
                action: none
              hold_action:
                action: toggle
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
                icon:
                  - color: rgb(90, 153 ,92, 1)
              state:
                - value: 'on'
                  styles:
                    card:
                      - box-shadow: inset 0px 1px 3px 0px rgba(0,0,0,0.35)
            - type: custom:button-card
              entity: sensor.mediastatus
              show_icon: true
              show_name: false
              show_state: false
              icon: mdi:remote-tv
              size: 50%
              aspect_ratio: 1/1
              tap_action:
                action: more-info
              hold_action:
                action: none
              styles:
                card:
                  - border-radius: 100%
                  - background-color: rgb(254, 254, 254, 1)
                  - border: 1px solid rgb(0, 0, 0, 0.5)
                  - box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15)
                  - margin-top: 10px
                icon:
                  - color: rgb(65, 106, 154, 1)
        - square: false
          columns: 6
          type: grid
          cards:
            - type: custom:button-card
              entity: input_boolean.larm
              name: Hemlarm
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              label: |
                [[[
                  if ( states['input_boolean.larm'].state == 'off' ) return 'Av';
                  else return 'På';
                ]]]  
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
            - type: custom:button-card
              entity: input_boolean.adaptiv_ljus_status
              name: Ad. bel.
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              label: |
                [[[
                  if ( states['input_boolean.adaptiv_ljus_status'].state == 'off' ) return 'Av';
                  else return 'På';
                ]]]  
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
            - type: custom:button-card
              entity: input_boolean.laggdags
              name: Läggdags
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              label: |
                [[[
                  if ( states['input_boolean.laggdags'].state == 'off' ) return 'Av';
                  else return 'På';
                ]]]  
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
            - type: custom:button-card
              entity: input_boolean.natt
              name: Nattläge
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              label: |
                [[[
                  if ( states['input_boolean.natt'].state == 'off' ) return 'Av';
                  else return 'På';
                ]]]  
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
            - type: custom:button-card
              entity: input_boolean.gast
              name: Gästläge
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              label: |
                [[[
                  if ( states['input_boolean.gast'].state == 'off' ) return 'Av';
                  else return 'På';
                ]]]  
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
            - type: custom:button-card
              entity: sensor.mediastatus
              name: Tv fjärr
              tap_action:
                action: none
              hold_action:
                action: none
              show_state: false
              show_name: true
              show_icon: false
              show_label: false
              styles:
                card:
                  - background-color: transparent
                  - margin-top: 10px
                name:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
                label:
                  - color: rgb(70, 67, 66, 1)
                  - font-size: 14px
              style: |
                ha-card {
                  box-shadow: none;
                }
      card_mod:
        style: |
          ha-card {
            background: rgb(255, 254, 253, 1);
            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15);
              }
    - type: custom:stack-in-card
      keep:
        background: true
        box_shadow: false
        margin: true
        border_radius: true
        outer_padding: true
      cards:
        - type: horizontal-stack
          cards:
            - show_state: false
              show_name: false
              camera_view: live
              type: picture-entity
              entity: camera.framsida_camera
              camera_image: camera.framsida_camera
              tap_action:
                action: call-service
                service: input_text.set_value
                data:
                  value: säkerhet
                  entity_id: input_text.mobilmeny_sebbe
              hold_action:
                action: none
            - show_state: false
              show_name: false
              camera_view: live
              type: picture-entity
              entity: camera.altan_camera
              camera_image: camera.altan_camera
              tap_action:
                action: call-service
                service: input_text.set_value
                data:
                  value: säkerhet
                  entity_id: input_text.mobilmeny_sebbe
              hold_action:
                action: none
      card_mod:
        style: |
          ha-card {
            background: rgb(255, 254, 253, 1);
            box-shadow: 0px 2px 2px 0px rgba(0,0,0,0.15);
              }
